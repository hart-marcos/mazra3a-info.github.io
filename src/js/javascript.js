/*

  copy right Elhouiti Mahmoud

     Family Farm World

*/
let st_r="";let st_m="";let st_f="";let am_nbr;let ar_nbr;let fr_nbr;let send=0;let test=0;let cmdlist=[];const allow_types=[];const a_i=["dHJlZXM=","c2VlZHM=","YW5pbWFscw==","Z2Vhcg==","YnVpbGRpbmdz","ZGVjb3JhdGlvbnM=","c3BlY2lhbF9ldmVudHM=","bWF0ZXJpYWxz"];for(const i in a_i){allow_types.push(atob(a_i[i]))}let myObj="";if(location.href.indexOf("#")!=-1){window.location.href=window.location.href.split("#")[0]}const pages_ids=["home","shop","weekly_send","daily_feed","feed_links","missions","can_send","car__shop"];const other_ids=["missions","can_send","car__shop"];let home="";let shop="";let weekly_send="";let daily_feed="";let feed_links="";let missions="";let can_send="";let car__shop="";function get_content(id){let page="";document.getElementById("main").innerHTML="";for(const t in pages_ids)document.getElementById(pages_ids[t])&&(pages_ids[t]!=id?document.getElementById(pages_ids[t]).className="":document.getElementById(id).className="active");if(other_ids.includes(id)){document.getElementById("other").className="active"}else{document.getElementById("other").className=""}switch(id){case"home":if(home==""){get_content2(id)}else{page=home}break;case"shop":if(myObj==""){get_content2(id);get_store("ar")}else if(shop==""){get_content2(id)}else{page=shop}break;case"car__shop":if(myObj==""){get_content2(id);get_store("ar")}else if(car__shop==""){get_content2(id)}else{page=car__shop}break;case"weekly_send":if(weekly_send==""){get_content2(id)}else{page=weekly_send}break;case"daily_feed":if(daily_feed==""){get_content2(id)}else{page=daily_feed}break;case"feed_links":if(feed_links==""){get_content2(id)}else{page=feed_links}break;case"missions":if(myObj==""){get_content2(id);get_store("ar")}else if(missions==""){get_content2(id)}else{page=missions}break;case"can_send":if(myObj==""){get_content2(id);get_store("ar")}else if(can_send==""){get_content2(id)}else{page=can_send}break}if(page!=""){document.getElementById("main").innerHTML=page;if(id=="missions"){init_mm()}}scroll(0,0)}function get_content2(id){fetch(`scripts/get_page?id=${id}`).then(r=>{r.text().then(d=>{document.getElementById("main").innerHTML=d;switch(id){case"home":home=d;break;case"shop":shop=d;break;case"car__shop":car__shop=d;break;case"weekly_send":weekly_send=d;break;case"daily_feed":daily_feed=d;break;case"feed_links":feed_links=d;break;case"missions":if(mm_img==""){mm_init()}missions=d;break;case"can_send":can_send=d;break}})})}function get_items(e){let t=0;if(cmdlist=[],document.getElementById("demo").innerHTML="",allow_types.indexOf(e)!=-1){for(const s in myObj)myObj[s].type==e&&(price(myObj[s]),t++);pages(),items_by_page(1)}t==0&&(document.getElementById("demo").innerHTML+='<h1 class="txt"> لا يوجد شيء مطابق لما طلبته جرب مرة اخرى  </h1>');for(const t in allow_types)document.getElementById(allow_types[t])&&(allow_types[t]!=e?document.getElementById(allow_types[t]).className="":document.getElementById(e).className="active")}function price(e){var _cons="";var _info=`<div class="infooo" onclick="get_info(${e.id})"></div>`;var _img=`<img src="https://ffh5.akamaized.net/static/v3/resource/assets/Module/images_75/${e.url}.png" onerror="this.onerror=null;this.src='Images/no_image.png';" class="img" />`;if(e.constructible){if(e.is_invite){_cons=`<div class="const2" title="بحاجة لمساعدة ${e.neighbors_needed} جيران"></div>`}else{_cons=`<div class="const" onclick="get_materials(${e.id})"></div>`}}e.rp_price!=0&&e.rp_price||e.pack_rp_price?e.pack_rp_price?cmdlist.push(`<div class="item">${_cons}${_info}<h3 class="txt">${e.id}</h3>${_img}<div class="example5"><h3 class="txt">${e.name}</h3></div><h6 class ="rc"> ${e.pack_rp_price} دينار </h6></div>`):cmdlist.push(`<div class="item">${_cons}${_info}<h3 class="txt">${e.id}</h3>${_img}<div class="example5"><h3 class="txt">${e.name}</h3></div><h6 class ="rc"> ${e.rp_price} دينار </h6></div>`):e.price?cmdlist.push(`<div class="item">${_cons}${_info}<h3 class="txt">${e.id}</h3>${_img}<div class="example5"><h3 class="txt">${e.name}</h3></div><h6 class ="coins"> ${e.price} ذهب </h6></div>`):cmdlist.push(`<div class="item">${_cons}${_info}<h3 class="txt">${e.id}</h3>${_img}<div class="example5"><h3 class="txt">${e.name}</h3></div><h6 class ="coins"> 0 ذهب </h6></div>`)}function pages(){if(document.getElementById("pages").innerHTML="",cmdlist.length%35==0)for(let e=1;e<=cmdlist.length/35;e++)document.getElementById("pages").innerHTML+=`<input type="button" value="${e}" onclick="items_by_page(this.value)" /> `;else for(let e=1;e<=cmdlist.length/35+1;e++)document.getElementById("pages").innerHTML+=`<input type="button" value="${e}" onclick="items_by_page(this.value)" /> `}function items_by_page(e){document.getElementById("demo").innerHTML="";const t=35*(e-1);const s=Math.min(cmdlist.length,t+35);for(let e=t;e<=s-1;e++)document.getElementById("demo").innerHTML+=cmdlist[e];topFunction()}function search(e){let t=0;if(cmdlist=[],document.getElementById("demo").innerHTML="",e!=""){for(const s in myObj){if(myObj[s].name!=null){myObj[s].name.indexOf(e)!=-1&&allow_types.includes(myObj[s].type)&&(price(myObj[s]),t++)}else console.log(`${myObj[s].id} don"t have a name`)}items_by_page(1)}pages(),t==0&&(document.getElementById("demo").innerHTML+='<h1 class="txt"> لا يوجد شيء مطابق لما طلبته جرب مرة اخرى  </h1>')}function get_st_car(e){switch(e){case"r":document.getElementById("ae").className="active",document.getElementById("en").className="",document.getElementById("fr").className="",st_r==""?get_store("ar"):myObj=st_r;break;case"m":document.getElementById("ae").className="",document.getElementById("en").className="active",document.getElementById("fr").className="",st_m==""?get_store("am"):myObj=st_m;break;case"f":document.getElementById("ae").className="",document.getElementById("en").className="",document.getElementById("fr").className="active",st_f==""?get_store("fr"):myObj=st_f}document.getElementById("car_shop").innerHTML='<h2 class="txt">  اختر القسم الذي تريده       </h2>',document.getElementById("pages").innerHTML="";for(const e in allow_types)document.getElementById(allow_types[e])&&(document.getElementById(allow_types[e]).className="")}function get_items_car(e){let t=0;cmdlist=[],document.getElementById("car_shop").innerHTML="";for(const s in myObj)allow_types.indexOf(e)!=-1&&(myObj[s].new_cash1||myObj[s].new_cash2||myObj[s].new_cash3)&&myObj[s].type==e&&(price_car(myObj[s]),t++);pages_car(),items_by_page_car(1),t==0&&(document.getElementById("car_shop").innerHTML+='<h1 class="txt"> لا يوجد شيء مطابق لما طلبته جرب مرة اخرى  </h1>');for(const t in allow_types)document.getElementById(allow_types[t])?allow_types[t]!=e?document.getElementById(allow_types[t]).className="":document.getElementById(e).className="active":console.log("can not get element ")}function search_car(e){let t=0;if(cmdlist=[],document.getElementById("car_shop").innerHTML="",e!=""){for(const s in myObj){if(myObj[s].name!=null){const n=myObj[s].name.substring(myObj[s].name.indexOf(" ")+1,myObj[s].name.length);const a=n.indexOf(" ")!=-1?n.substring(n.indexOf(" ")+1,n.length):n;const c=a.indexOf(" ")!=-1?a.substring(n.indexOf(" ")+1,a.length):a;(myObj[s].name.startsWith(e)||n.startsWith(e)||a.startsWith(e)||c.startsWith(e))&&(myObj[s].new_cash1||myObj[s].new_cash2||myObj[s].new_cash3)&&allow_types.includes(myObj[s].type)&&(price_car(myObj[s]),t++)}else console.log(`${myObj[s].id} don"t have a name`)}items_by_page_car(1),t==0&&(document.getElementById("car_shop").innerHTML+='<h1 class="txt"> لا يوجد شيء مطابق لما طلبته جرب مرة اخرى  </h1>')}else get_items_car();pages_car()}function price_car(e){let t=0;let s=0;let n=0;e.new_cash1&&(t=e.new_cash1),e.new_cash2&&(s=e.new_cash2),e.new_cash3&&(n=e.new_cash3),cmdlist.push(`<div class="item_car"><h2 class="txt_car">${e.id}</h2><img src="https://ffh5.akamaized.net/static/v3/resource/assets/Module/images_75/${e.url}.png"alt=""class="img"/><div class="cashs"><img src="Images/YellowVoucher.png"class=" voucher"alt=""><img src="Images/PurpleVoucher.png"class=" voucher"alt=""><img src="Images/GreenVoucher.png"class=" voucher"alt=""><h3 class="voucher_nbr">${t}</h3><h3 class="voucher_nbr">${s}</h3><h3 class="voucher_nbr">${n}</h3></div><div class="example5"><h4 class="txt_car">${e.name}</h4></div></div>`)}function pages_car(){if(document.getElementById("pages").innerHTML="",cmdlist.length%8==0)for(let e=1;e<=cmdlist.length/8;e++)document.getElementById("pages").innerHTML+=`<input type="button" value="${e}" onclick="items_by_page_car(this.value)" /> `;else for(let e=1;e<=cmdlist.length/8+1;e++)document.getElementById("pages").innerHTML+=`<input type="button" value="${e}" onclick="items_by_page_car(this.value)" /> `}function items_by_page_car(e){document.getElementById("car_shop").innerHTML="";const t=8*(e-1);const s=Math.min(cmdlist.length,t+8);for(let e=t;e<=s-1;e++)document.getElementById("car_shop").innerHTML+=cmdlist[e]}function get1(){if(document.getElementById("sr").value!=""){const e=document.getElementById("sr").value;const t=e.split(".")[1];if(t&&isBase64(t)){const s=window.atob(t);if(isJson(s)){document.getElementById("s_b").value="جاري الارسال",document.getElementById("s_b").disabled=!0;const n=JSON.parse(s).user_id;let a;let m=document.getElementById("type").value;const v=document.getElementById("version").value;switch(m){case"سماد":m="normalfertilizer";break;case"دلو":m="normalcan";break;case"هدايا":m="freegifts"}fetch(`scripts/get_coins?type=_${m}&sr=${e}&uid=${n}&v=${v}`).then(e=>{e.text().then(e=>{a=e,get2(a=JSON.parse(String(a)),m,0)})})}else{alert("ال signed_request الذي ادخلته خاطأ")}}else{alert("ال signed_request الذي ادخلته خاطأ")}}else{alert("ادخل ال signed_request اولا")}}function get2(key,t,i){const s=document.getElementById("sr").value;const n=key[0];const a=key[1];if(i<701){const o=`${a}?signed_request=${s}&key=${key[i+2]}&uid=${i}&type=${t}&ref=feed&s=${n}`;fetch(o).then(x=>x.text()).then(e=>{if(e.indexOf("already accepted this gift!")!=-1){test++;if(test>5){alert(" لا يمكن الارسال الان جرب في وقت لاحق"),document.getElementById("s_b").value="ارسال",document.getElementById("s_b").disabled=!1;document.getElementById("sr").value=""}else{get2(key,t,i++)}}else if(e.indexOf("Friends help friends farm better!")!=-1){i++,document.getElementById("s_b").value=i;send++;test=0;get2(key,t,i)}else{alert("تأكد من ال signed_request ");document.getElementById("s_b").value="ارسال",document.getElementById("s_b").disabled=!1;document.getElementById("sr").value=""}})}else{alert(`تم الارسال ${send}`),document.getElementById("s_b").value="ارسال",document.getElementById("s_b").disabled=!1;document.getElementById("sr").value=""}}let mm_img=[];let next;let story_config="";function mm_init(){fetch("st/story_config.json").then(r=>{r.text().then(d=>{story_config=JSON.parse(d)})});fetch("st/mm_img.json").then(r=>{r.text().then(d=>{json=JSON.parse(String(d)),mm_img=json,init_mm()})})}function get_story(type){document.getElementById("orders").innerHTML='<a href="#" onclick="init_mm()" class="all_mm"> <div style"color: black; font-size: 15px" class="back txt"> كل المهمات </div> </a><br>';for(const i in story_config){if(story_config[i].attributes.story_type){if(story_config[i].attributes.story_type==type){get_orders(story_config[i])}}else{console.log(`${i} no story_type `)}}scroll(0,0)}function get_orders(obj,nbr){if(next){for(const i in obj.tasks.task){const desc=obj.attributes.description;let url=get_url(obj.tasks.task[i].attributes.filter);const rc=obj.tasks.task[i].attributes.spend_rp;const txt=obj.tasks.task[i].attributes.text;if(obj.tasks.task[i].attributes.action=="plant_seeds,add_plant"){url+="_plant"}document.getElementById("orders").innerHTML+=`<div class="order_div" > <img style="border-radius: 50%;border: 4px solid #E79B04;float: right;padding: 2px 8px 3px 8px; background-color: white; " src="Images/amer.png" alt="" class="img" style="float: left;margin-top:10px;" /> </div><br> <h4 class="desc">${desc} </h4> <div class="order"> <img src="https://ffh5.akamaized.net/static/v3/resource/assets/Module/images_75/${url}.png" alt="" class="img" style="float: left;margin-top:10px;margin-left: 20px;" /> <div class="finish_for"> انهاء مقابل ${rc} دنانير </div> <h3 class="txt_order">${txt}</h3> </div><br>`}if(obj.rewards.special_reward){next=!1}const coins=obj.rewards.reward[0].attributes.coins||0;const exp=obj.rewards.reward[0].attributes.experience||0;if(obj.rewards.reward[0].attributes.items){const n3=obj.rewards.reward[0].attributes.items.split(":")[0];document.getElementById("orders").innerHTML+=`<div class="rewards"> <h1 class="txt" style="direction: rtl"> الجوائز :</h1> <img src="https://ffh5.akamaized.net/static/v3/resource/assets/Module/images_75/${get_url(n3)}.png" > </div>`}else{document.getElementById("orders").innerHTML+=`<div class="rewards"> <h1 class="txt" style="direction: rtl"> الجوائز :</h1> <img src="Images/coins.png" width="45" height="45" alt="" > <img src="Images/exp.png" width="45" height="45" alt="" > <br> <h3 >${coins} </h3> <h3 >${exp} </h3> </div>`}if(obj.rewards.special_reward){if(obj.rewards.special_reward.attributes.select_items){const n1=obj.rewards.special_reward.attributes.select_items.split(",")[0].split(":")[0];const n2=obj.rewards.special_reward.attributes.select_items.split(",")[1].split(":")[0];document.getElementById("orders").innerHTML+=`<div class="rewards"> <img src="https://ffh5.akamaized.net/static/v3/resource/assets/Module/images_75/${get_url(n1)}.png" ><h3 style="margin-left: 50px;margin-right: -30px; ">  او<h3><img src="https://ffh5.akamaized.net/static/v3/resource/assets/Module/images_75/${get_url(n2)}.png" > </div>`}else{const n=obj.rewards.special_reward.attributes.items.split(":")[0];document.getElementById("orders").innerHTML+=`<div class="rewards"> <img src="https://ffh5.akamaized.net/static/v3/resource/assets/Module/images_75/${get_url(n)}.png" > </div>`}}}}function init_mm(){next=true;document.getElementById("orders").innerHTML="";for(const i in mm_img){document.getElementById("orders").innerHTML+=`<a class="item_mm" style="border-color: transparent" onclick="get_story('${mm_img[i].type}')"><img class="mm_img" src="${mm_img[i].url}" class="img"><h6 class="mm_b"> العب </h6></a>`}}function get_url(id){for(const i in myObj){if(myObj[i].id==id){if(myObj[i].type=="products"){if(myObj[i].producer){return myObj[myObj[i].producer].url}}else{return myObj[i].url}}}}var feedUrl_us=atob("aHR0cHM6Ly9hcHBzLmZhY2Vib29rLmNvbS9mYW1pbHktZmFybS9mYWNlYm9vay9nZXRfcmV3YXJkLz92az0=");var feedUrl_fr=atob("aHR0cHM6Ly9hcHBzLmZhY2Vib29rLmNvbS9wbGF5ZmFybS9mYWNlYm9vay9nZXRfcmV3YXJkLz92az0=");var feedUrl_th=atob("aHR0cHM6Ly9hcHBzLmZhY2Vib29rLmNvbS9oYXBweWxhbmRnYW1lL2ZhY2Vib29rL2dldF9yZXdhcmQvP3ZrPQ==");let feedUrl="";let arr_sr=[];let links_nbr=0;let count_l=0;let multi=!1;function get_link(){var sr=document.getElementById("sr").value;const t=sr.split(".")[1];if(t&&isBase64(t)){const s=window.atob(t);if(isJson(s)){const n=btoa(JSON.parse(s).user_id);document.getElementById("s_b").value="انتظر ...",document.getElementById("s_b").disabled=!0;let a;const v=document.getElementById("version").value;switch(v){case"us":feedUrl=feedUrl_us;break;case"th":feedUrl=feedUrl_th;break;case"fr":feedUrl=feedUrl_fr;break}fetch(`scripts/links_maker?u=${n}&v=${v}`).then(e=>{e.text().then(e=>{get_link2(JSON.parse(String(e)),sr)})})}else{alert("ال signed_request خاطأ");document.getElementById("s_b").value="اصنع رابط";document.getElementById("s_b").disabled=!1}}else{alert("ال signed_request خاطأ");document.getElementById("s_b").value="اصنع رابط";document.getElementById("s_b").disabled=!1}}function get_link2(e,sr){const type=atob(document.getElementById("type").value);const viral_k=function(){let k="";for(let i=0;i<8;i++){k+=Math.floor((1+Math.random())*65536).toString(16).substring(1)}return k}();const t=sr.split(".")[1];const s=window.atob(t);const uid=JSON.parse(s).user_id;const data={signed_request:sr,type:type,key:viral_k,hash:`-${e[0]}-`};$.post(atob(e[1]),data,d=>{if(d!=""){const x=JSON.parse(d);if(x.payload){cut_link(`${feedUrl+viral_k}_${uid}___${type}`)}else{document.getElementById("result").innerHTML="لا يمكن صنع الرابط الان حاول في وقت لاحق  ";document.getElementById("s_b").value="اصنع رابط";document.getElementById("s_b").disabled=!1}}else{document.getElementById("result").innerHTML=" ال signed_request الذي ادخلته غير صحيح ";document.getElementById("s_b").value="اصنع رابط";document.getElementById("s_b").disabled=!1}})}function cut_link(link){fetch(`scripts/cutt?link=${link}`).then(e=>{e.text().then(e=>{if(e!=""){document.getElementById("result").innerHTML=e;document.getElementById("s_b").value="اصنع رابط";document.getElementById("s_b").disabled=!1}else{document.getElementById("result").innerHTML+=":( .. <br>"}})})}var feeds=[];const base_url="https://ffh5.akamaized.net/static/v3/resource/assets/Module/images_75/";let sr_="";let agian=0;let _err=0;let u="";var gaz="";var version_="";function feed_daily(i){if(i==0&&agian==0&&_err==0){gaz=document.getElementById("gaz").value;sr_=document.getElementById("sr_").value;version_=document.getElementById("version_").value;const t=sr_.split(".")[1];if(t&&isBase64(t)){if(gaz=="true"){feeds=["Gasoline1","superFertilizer","superkettle","fertilizer","OrganicAquaticFertilizer","BingoGoldenBall","SkyAdventureEnergy_1"]}else{feeds=["superFertilizer","superkettle","fertilizer","OrganicAquaticFertilizer","BingoGoldenBall","SkyAdventureEnergy_1"]}alert_f('feed_daily',1);document.getElementById("result_pb").style="";document.getElementById("b_send").disabled=true;document.getElementById("result_ok").style.display="none";document.getElementById("result_img").src="Images/gasoline.png";document.getElementById("result_txt").innerHTML="جاري الارسال ";setTimeout(()=>{document.getElementById("result_close").style=""},6e3);const s=window.atob(t);const uid=JSON.parse(s).user_id;u=window.btoa(uid)}else{i=99;alert_f('',0);alert("signed_request خطأ")}}if(i<feeds.length){const xhttp=new XMLHttpRequest;xhttp.onload=function(){if(this.responseText=="again (for update)"){agian++;if(agian<3){feed_daily(i);console.log("again (for update)")}else{_err=0;agian=0;feed_daily(i+1)}}else if(this.responseText=="again"){_err++;if(_err<3){feed_daily(i)}else{document.getElementById("result_ok").style="";document.getElementById("result_pb").style.display="none";document.getElementById("b_send").disabled=false;document.getElementById("result_txt").innerHTML="حصل مشكل -- حاول مرة اخرى "}}else if(this.responseText=="error_sr"){document.getElementById("result_ok").style="";document.getElementById("result_pb").style.display="none";document.getElementById("b_send").disabled=false;document.getElementById("result_txt").innerHTML="تأكد من نوع اللعبة ال signed_request لا يعمل"}else{document.getElementById("result_txt").innerHTML=this.responseText;document.getElementById("result_img").src=`${base_url+feeds[i]}.png`;agian=0;_err=0;feed_daily(i+1)}};xhttp.open("GET",`scripts/feed_all?type=${feeds[i]}&sr=${sr_}&u=${u}&v=${version_}`);xhttp.send()}else{document.getElementById("result_ok").style="";document.getElementById("result_pb").style.display="none";document.getElementById("result_txt").innerHTML+='<h3 style="text-align: center;color: #1fbd9e;margin-bottom: -36px;margin-top: 11px;"> صل على سيدنا محمد (صل الله عليه وسلم)  </h3>';document.getElementById("b_send").disabled=false;fetch(`v_feeds?u=${u}&v=${version_}`)}}var page_info=0;var _ok=!1;var raw_m=[];var products=[];var fix_raw_m=[];var info_list=[];var have_prod=["seeds","animals","buildings","gear","trees","decorations"];var class_="";function get_info(id){page_info=0;for(const s in myObj){myObj[s].id==id&&get_info2(myObj[s],myObj[s].type)}}function get_info2(obj,type){info_list=[];class_="";_ok=!1;raw_m=[];switch(type){case"animals":animals_info(obj);break;case"gear":have_raw(obj);break;case"buildings":build_info(obj);break;case"seeds":only_product(obj);break;case"trees":only_product(obj);break;case"materials":matrial_info(obj);break;case"decorations":deco_info(obj);break;default:break}}function animals_info(obj){if(obj.add_on){var x=obj_by_id(obj.add_on);info_list.push('<div class="infoo">'+get_item_(x)+"</div>");class_="prod";_ok=!0}else if(obj.kind=="hive"||obj.can_collect_flowers){if(obj.can_collect_flowers.length>1){var info="";class_="info";get_products(obj,"");for(const i in obj.can_collect_flowers){let x=obj_by_id(obj.can_collect_flowers[i]);info='<div class="infoo"><div class="raw_materials">';info+=`<div class="raw_material"> <h6> ${x.name} </h6> <img src="https://ffh5.akamaized.net/static/v3/resource/assets/Module/images_75/${fix_img(x)}.png" alt=""> </div>`+"</div>"+products[0]+"</div>";info_list.push(info)}}else{have_raw(obj)}}else{have_raw(obj)}_final()}function build_info(obj){var ok_=!1;if(obj.collect_mode){if(obj.product){only_product(obj);ok_=!0}else{if(obj.collect_coin){var x=obj_by_id(212560);var inf=`<div class="products"> <h6> ${x.name} </h6> <img src="https://ffh5.akamaized.net/static/v3/resource/assets/Module/images_75/${fix_img(x)}.png" class="img_75" alt=""> <h6> x ${obj.collect_coin}  </h6> </div>`;info_list.push('<div class="infoo">'+inf+"</div>");class_="prod";ok_=!0}}}else if(obj.product!=null){have_raw(obj);ok_=!0}else{if(obj.desc){desc_=obj.desc}else{desc_="بيع مقابل "+obj.sell_price}var info_=`<div class="products"> <h6> ${obj.name} </h6> <img src="https://ffh5.akamaized.net/static/v3/resource/assets/Module/images_75/${fix_img(obj)}.png" class="img_75" alt=""> <h6>  ${desc_}  </h6> </div>`;info_list.push('<div class="infoo">'+info_+"</div>");ok_=!0}if(ok_){_final()}}function deco_info(obj){var ok_=!1;if(obj.collect_mode){if(obj.product){only_product(obj);ok_=!0}else{if(obj.collect_coin){var x=obj_by_id(212560);var inf=`<div class="products"> <h6> ${x.name} </h6> <img src="https://ffh5.akamaized.net/static/v3/resource/assets/Module/images_75/${fix_img(x)}.png" class="img_75" alt=""> <h6> x ${obj.collect_coin}  </h6> </div>`;info_list.push('<div class="infoo">'+inf+"</div>");class_="prod";ok_=!0}else if(obj.drop_item_id){var x=obj_by_id(obj.drop_item_id);info_list.push('<div class="infoo">'+get_item_(x)+"</div>");class_="prod";ok_=!0}else{}}}else{var info_=`<div class="products"> <h6> ${obj.name} </h6> <img src="https://ffh5.akamaized.net/static/v3/resource/assets/Module/images_75/${fix_img(obj)}.png" class="img_75" alt=""> <h6> بيع مقابل ${obj.sell_price}  </h6> </div>`;info_list.push('<div class="infoo">'+info_+"</div>");ok_=!0}if(ok_){_final()}}function matrial_info(obj){var ok_=!1;if(obj.parent_id){var x=obj_by_id(obj.parent_id);var inf=`<div class="products"> <h6> ${x.name} </h6> <img src="https://ffh5.akamaized.net/static/v3/resource/assets/Module/images_75/${fix_img(x)}.png" class="img_75" alt=""> <h6> سعر  ${x.price}  </h6> </div>`;info_list.push('<div class="infoo">'+inf+"</div>");class_="prod";ok_=!0}else{if(obj.desc){desc_=obj.desc}else{desc_="مبادلة مقابل "+obj.trade_for}var info_=`<div class="products"> <h6> ${obj.name} </h6> <img src="https://ffh5.akamaized.net/static/v3/resource/assets/Module/images_75/${fix_img(obj)}.png" class="img_75" alt=""> <h6>  ${desc_}  </h6> </div>`;info_list.push('<div class="infoo">'+info_+"</div>");ok_=!0}if(ok_){_final()}}function get_raw(obj){raw_m=[];fix_raw_m=[];if(Array.isArray(obj.raw_material)){for(var i in obj.raw_material){if(Array.isArray(obj.raw_material[i])){for(const j in obj.raw_material[i]){let x=obj_by_id(obj.raw_material[i][j]);raw_m.push(`<div class="raw_material"> <h6> ${x.name} </h6> <img src="https://ffh5.akamaized.net/static/v3/resource/assets/Module/images_75/${fix_img(x)}.png" alt=""> </div>`)}}else{let x=obj_by_id(obj.raw_material[i]);fix_raw_m.push(`<div class="raw_material"> <h6> ${x.name} </h6> <img src="https://ffh5.akamaized.net/static/v3/resource/assets/Module/images_75/${fix_img(x)}.png" alt=""> </div>`)}}}else{let x=obj_by_id(obj.raw_material);raw_m.push(`<div class="raw_material"> <h6> ${x.name} </h6> <img src="https://ffh5.akamaized.net/static/v3/resource/assets/Module/images_75/${fix_img(x)}.png" alt=""> </div>`)}}function get_products(obj,_class){products=[];if(Array.isArray(obj.product)){for(const j in obj.product){let y=obj_by_id(obj.product[j]);var sell="";if(y.sell_for){sell=`<h6> ${y.sell_for} ذهب </h6>`}products.push(`<div class="products"> <h6> ${y.name} </h6> <img src="https://ffh5.akamaized.net/static/v3/resource/assets/Module/images_75/${fix_img(y)}.png" class="${_class}" alt="">${sell}</div>`)}}else{let y=obj_by_id(obj.product);var sell="";if(y.sell_for){sell=`<h6> ${y.sell_for} ذهب </h6>`}products.push(`<div class="products"> <h6> ${y.name} </h6> <img src="https://ffh5.akamaized.net/static/v3/resource/assets/Module/images_75/${fix_img(y)}.png" class="${_class}" alt="">${sell}</div>`)}}function only_product(obj){class_="";var info="";info_list=[];get_products(obj,"img_75");class_="prod";for(const i in products){info='<div class="infoo">';info+=products[i]+"</div>";info_list.push(info)}_ok=!0;_final()}function have_raw(obj){var info="";info_list=[];var fixed_raw="";get_raw(obj);get_products(obj);for(const i in fix_raw_m){fixed_raw+=fix_raw_m[i]}_ok=!0;if(products.length<2){class_="prod";info='<div class="infoo"><div class="raw_materials">';info+=raw_m[0]+fixed_raw+"</div>"+products[0]+"</div>";info_list.push(info)}else{class_="info";for(const i in products){info='<div class="infoo"><div class="raw_materials">';info+=raw_m[i]+fixed_raw+"</div>"+products[i]+"</div>";info_list.push(info)}}if(obj.type=="gear"){_final()}}function get_materials(id){var _res="";var obj=obj_by_id(id);var _materials=[];var style_="";var style_2="";var style_3="";if(obj.materials&&!obj.is_invite){if(obj.materials.length>4){style_='style="width: 30%;"';style_2='style="top: -40px;"';style_3='style="top: -25px;"'}for(const i in obj.materials){let y=obj_by_id(obj.materials[i].id);y.rp_price!=0&&y.rp_price?_materials.push(`<div ${style_} class="materials"> <h6> ${y.name}  (${obj.materials[i].qty}) </h6> <img src="https://ffh5.akamaized.net/static/v3/resource/assets/Module/images_75/${y.url}.png" alt=""> <h6> ${y.rp_price} دنانير </h6> </div>`):y.price?_materials.push(`<div class="materials"> <h6> ${y.name} (${obj.materials[i].qty}) </h6> <img src="https://ffh5.akamaized.net/static/v3/resource/assets/Module/images_75/${y.url}.png" alt=""> <h6> ${y.price} ذهب </h6> </div>`):_materials.push(`<div class="materials"> <h6> ${y.name} </h6> <img src="https://ffh5.akamaized.net/static/v3/resource/assets/Module/images_75/${y.url}.png" alt=""> <h6> 0 ذهب </h6> </div>`)}for(var x in _materials){_res+=_materials[x]}alert_f('all_info',1);document.getElementById("all_info").innerHTML=`<div ${style_3} class="close" onclick="alert_f('',0);"></div>`;document.getElementById("all_info").innerHTML+=`<div ${style_2} class="infoo"> ${_res} </div>`;document.getElementById("all_info").className="overlay2 prod"}}function get_next_info(_type){if(_type=="next"){page_info++;const t=4*page_info;const s=Math.min(info_list.length,t+4);if(s==info_list.length){document.getElementById("all_info").innerHTML=`<div class="close" onclick="alert_f('',0);"></div></div><div class="prev" onclick="get_next_info('prev')"></div>`}else{document.getElementById("all_info").innerHTML=`<div class="close" onclick="alert_f('',0);"></div><div class="next" onclick="get_next_info('next')" ></div><div class="prev" onclick="get_next_info('prev')"></div>`}for(let e=t;e<=s-1;e++)document.getElementById("all_info").innerHTML+=info_list[e]}else{page_info--;const t=4*page_info;const s=Math.min(info_list.length,t+4);if(page_info==0){document.getElementById("all_info").innerHTML=`<div class="close" onclick="alert_f('',0);"></div></div><div class="next" onclick="get_next_info('next')"></div>`}else{document.getElementById("all_info").innerHTML=`<div class="close" onclick="alert_f('',0);"></div><div class="next" onclick="get_next_info('next')" ></div><div class="prev" onclick="get_next_info('prev')"></div>`}for(let e=t;e<=s-1;e++)document.getElementById("all_info").innerHTML+=info_list[e]}}function get_item_(obj){if(obj){return`<div class="products"> <div class="example5"><h6> ${obj.name} </h6></div> <img src="https://ffh5.akamaized.net/static/v3/resource/assets/Module/images_75/${fix_img(obj)}.png" class="img_75" alt=""></div>`}}function obj_by_id(id){for(const i in myObj){if(myObj[i].id==id){return myObj[i]}}return!1}function fix_img(obj){if(obj.url.endsWith("_p")&&(obj.type=="seeds"||"products")){return obj.url.substr(0,obj.url.length-2)}else{return obj.url}}function _final(){alert_f('all_info',1);document.getElementById("all_info").innerHTML=`<div class="close" onclick="alert_f('',0);"></div><div class="next" onclick="get_next_info('next')" />`;if(info_list.length>4){for(let x=0;x<4;x++){document.getElementById("all_info").innerHTML+=info_list[x]}}else{for(let x=0;x<info_list.length;x++){document.getElementById("all_info").innerHTML+=info_list[x]}}switch(class_){case"info":document.getElementById("all_info").className="overlay2 "+class_;break;case"prod":document.getElementById("all_info").className="overlay2 "+class_;break;case"":document.getElementById("all_info").className="overlay2 prod";break}}function get_can_send(e){let t=0;cmdlist=[];document.getElementById("demo").innerHTML="";if(e=="other"){for(const s in myObj)allow_types.indexOf(myObj[s].type)==-1&&myObj[s].new_giftable&&(price(myObj[s]),t++);pages(),items_by_page(1)}else if(allow_types.indexOf(e)!=-1){for(const s in myObj)myObj[s].type==e&&myObj[s].new_giftable&&(price(myObj[s]),t++);pages(),items_by_page(1)}t==0&&(document.getElementById("demo").innerHTML+='<h1 class="txt"> لا يوجد شيء مطابق لما طلبته جرب مرة اخرى  </h1>');for(const t in allow_types)document.getElementById(allow_types[t])&&(allow_types[t]!=e?document.getElementById(allow_types[t]).className="":document.getElementById(e).className="active")}function get_st(e){myObj="";switch(e){case"r":document.getElementById("ae").className="active",document.getElementById("en").className="",document.getElementById("fr").className="",st_r==""?get_store("ar"):myObj=st_r;break;case"m":document.getElementById("ae").className="",document.getElementById("en").className="active",document.getElementById("fr").className="",st_m==""?get_store("am"):myObj=st_m;break;case"f":document.getElementById("ae").className="",document.getElementById("en").className="",document.getElementById("fr").className="active",st_f==""?get_store("fr"):myObj=st_f}document.getElementById("demo").innerHTML='<h2 class="txt">  اختر القسم الذي تريده       </h2>',document.getElementById("pages").innerHTML="";for(const e in allow_types)document.getElementById(allow_types[e])&&(document.getElementById(allow_types[e]).className="")}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=350}function zlibDecompress(v){let url="aHR0cHM6Ly9mZmg1LmFrYW1haXplZC5uZXQvc3RhdGljL3YzLw==";switch(v){case"ar":url=btoa(atob(url)+ar_nbr+atob("L3Jlc291cmNlL2NvbmZpZy9mYXJtLXVzL2ZhY2Vib29rL2FyL2FyLmNvbmZpZw=="));break;case"am":url=btoa(atob(url)+am_nbr+atob("L3Jlc291cmNlL2NvbmZpZy9mYXJtLXVzL2ZhY2Vib29rL2FtL2FtLmNvbmZpZw=="));break;case"fr":url=btoa(atob(url)+fr_nbr+atob("L3Jlc291cmNlL2NvbmZpZy9mYXJtLXVzL2ZhY2Vib29rL2ZyL2ZyLmNvbmZpZw=="));break}url=atob(url);const xhr=new XMLHttpRequest;xhr.open("GET",url,true);xhr.responseType="blob";xhr.onload=function(oEvent){const reader=new window.FileReader;reader.readAsDataURL(xhr.response);reader.onloadend=function(){base64data=reader.result;const base64=base64data.split(",")[1];const strData=atob(base64);const charData=strData.split("").map(x=>x.charCodeAt(0));const binData=new Uint8Array(charData);const data=pako.inflate(binData,{to:"string"});const data2=JSON.parse(data);switch(v){case"ar":st_r=data2.store;break;case"am":st_m=data2.store;break;case"fr":st_f=data2.store;break}myObj=data2.store;alert_f('loading',1);document.getElementById("loading").remove()}};xhr.send()}function get_store(v){const div=document.createElement("div");div.id="loading";div.innerHTML='<img id="loading-image" src="Images/loading.gif" alt="Loading..." />';document.body.appendChild(div);let version="cmVzb3VyY2UvY29uZmlnL2Zhcm0tdXMvZmFjZWJvb2sv";let nbr;switch(v){case"ar":version+="YXIvYXIuY29uZmln";break;case"am":version+="YW0vYW0uY29uZmln";break;case"fr":version+="ZnIvZnIuY29uZmln";break}const file="aHR0cHM6Ly9mYXJtLXVzLmNlbnR1cnlnYW1lcy5jb20vanNvbmRhdGEvbWFuaWZlc3RfcHVibGlzaC5qc29u";const json="";fetch(atob(file)).then(x=>x.text()).then(y=>fetch(atob("aHR0cHM6Ly9mZmg1LmFrYW1haXplZC5uZXQvc3RhdGljL3YzLw")+JSON.parse(y).version_file_name).then(x=>x.text()).then(y=>{switch(v){case"ar":ar_nbr=JSON.parse(y)[atob(version)];break;case"am":am_nbr=JSON.parse(y)[atob(version)];break;case"fr":fr_nbr=JSON.parse(y)[atob(version)];break}zlibDecompress(v)}))}function isBase64(str){if(str===""||str.trim()===""){return false}try{atob(str);return true}catch(err){return false}}function isJson(str){try{JSON.parse(str)}catch(e){return false}return true}function valid_sr(sr){var tt=sr.split(".")[1];if(tt&&isBase64(tt)){var x=window.atob(tt);if(isJson(x)){return!0}}else{return!1}}function init_subs(){alert_f('subscribe',1);document.getElementById("subscribe").innerHTML=`<div class="popup" style="z-index: 100;border: 3px solid #1fbd9e;"> <h3 class="txt" style="text-align: center;font-size: 20px;direction: rtl;margin-bottom: -20px;color: #222222c7;"> اشتــــرك مــعــنــا : </h3> <a class="close" href="#">&times;</a> <input type="text" onclick="this.value = ''" id="add_sr" class="input" /> <div class="txt" style="display: none;margin-top: 35px;direction: rtl;" id="_result_"></div> <h3 style="text-align: center; color: #1fbd9e; margin-bottom: -17px;"> صل على سيدنا محمد (صل الله عليه وسلم) </h3> <a onclick="subscribe()" class="close_2" id="sub_btn"> اشتــــرك </a> </div>`}function subscribe(){var sr=document.getElementById("add_sr").value;if(valid_sr(sr)){var data={sr:sr};$.post("scripts/add_sr",data,function(d){document.getElementById("add_sr").style.display="none";document.getElementById("_result_").style.display="";document.getElementById("_result_").innerHTML=d;document.getElementById("sub_btn").style.display="none";document.getElementById("close_btn").style=""})}else{alert("ال signed_request خاطأ")}}var loading_alert=`<div id="popup1" class="overlay"> <div class="popup"> <h2 style="text-align: center;"> التحميل🔃 </h2> <a class="close" onclick="alert_f('',0)">&times;</a> <div class="content_p"> تم التحميل بنجاح بالتوفيق 😊 </div> <h3 style="text-align: center; color: #1fbd9e"> صل على سيدنا محمد (صل الله عليه وسلم) </h3> <a onclick="alert_f('',0)" class="close_2"> مــوافق </a> </div> </div>`;var d_feed_alert=`<div id="result_" class="result overlay"><h3 class="txt" style="text-align: center;font-size: 27px;direction: rtl;margin-bottom: 20px;color: #ffffff;margin-top: -59px;"> التفويل اليومي </h3> <img src="" id="result_img"/> <a id="result_close" class="close" style="display: none" onclick="alert_f('',0)">&times;</a> <div id="result_txt"> </div> <div id="result_pb" class="progress" > <div class="progress-value"></div> </div> <a id="result_ok" onclick="alert_f('feed_daily',0)" style="display: none" class="close_2"> مــوافق </a> </div>`;var subscribe_alert=`<div id="subscribe" class="overlay"><div class="popup" style="z-index: 100;"> <h3 class="txt" style="text-align: center;font-size: 20px;direction: rtl;margin-bottom: 40px;color: #ffffff;margin-top: -65px;"> اشتــــرك مــعــنــا : </h3> <a class="close" onclick="alert_f('',0)">×</a> <input type="text" onclick="this.value = ''" id="add_sr" class="input"> <div class="txt" style="display: none;margin-top: 35px;direction: rtl;" id="_result_"></div> <h3 style="text-align: center; color: #1fbd9e; margin-bottom: -17px;"> صل على سيدنا محمد (صل الله عليه وسلم) </h3> <a onclick="subscribe()" class="close_2" id="sub_btn"> اشتــــرك </a><a onclick="alert_f('',0)" class="close_2" id="close_btn" style="display: none;"> مــوافق </a> </div></div>`;var info_alert=`<div id="all_info" class="overlay2 info"></div>`;function alert_f(type,state){if(state==1){var alert_="";switch(type){case"loading":alert_=loading_alert;break;case"feed_daily":alert_=d_feed_alert;break;case"subscribe":alert_=subscribe_alert;break;case"all_info":alert_=info_alert;break;case"":alert_=subscribe_alert;break}document.getElementById("alerts").innerHTML=alert_;document.getElementById("alerts").className="overlay"}else{document.getElementById("alerts").innerHTML="";document.getElementById("alerts").className=""}}function link_img(s){document.getElementById("link_img").src=base_url+s.options[s.selectedIndex].id+".png"}